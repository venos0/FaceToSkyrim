# FaceToSkyrim
 This utility allows to create a skyrim player with a face ramdomly generated or from a picture.
 
 This utility allows to create a skyrim player with a face ramdomly generated or from a picture. For that it takes a face generated by FaceGen Modeller program and translates the output into a new race in the game. You don't need to use creation kit, nifskope or any 3D editing program (the old way).

This is my first mod. It is very experimental at this stage, so there are several issues yet to solve.

Requirements:

    FaceGen Modeller (paid version)
    Racemenu


INSTRUCTIONS FOR USING IT IN SKYRIM

Instructions:
For using the utility correctly, you need to follow these steps. Any weird face glitch probably is due to missing a step, so be carefull.

In Facegen:

    Add the skyrim model into Facegen.  For that, extract the files in asdfadsf.rar into the facegen folder.
    Open facegen. Click in Model -> Change Model Set. If facegen recognize the new model, you will see two new models: "Skyrim modelset 2020 Edition (female)" and "Skyrim modelset 2020 Edition Male/Female". The first is for females and the second is for males. Choose accordingly.
    Click in ﻿Model -> Change Model Parts. Only use the head and the eyes.
    Generate the face. You can generate a random model or a picture. There are several tutorials in the internet for that step.
    Once you have generated your face, click on File->Export. Choose the .obj format (Wavefront). When exporting, choose Texture Image Type JPEG. Set the rotation in X to 90. This is very important. Once you export the file, facegen will generate 3 files, .obj .jpg and .mtl (all are important).


﻿In Utility:

    Open the utility Run python gui_face_plugin.py . Click next, next, then click "Texture jpg file" and choose the .jpg file generated by facegen. When you click Change Brightness the utility will generate a file called output_texture.jpg in the same folder as FaceToSkyrim.exe. Click next.
    You will have to manually convert this file into .dds. You can use a free utility called dds converter : https://vvvv.org/contribution/dds-converter alternativelly you can use a dds plugin in gimp or photoshop or an online converter: https://convertio.co/es/jpg-dds/. Click next.
    Select the gender, click on Texture DDS file and choose the file you transformed. Click Mesh .obj and select the .obj file exported from facegen. The .mtl file must be in the same folder as .obj file. Click generate.
    This process can last a few minutes. Once finished, you will see a file called FaceToSkyrimGenerated.zip. This is the generated mod file. You can close the utility.


In your mod manager:

    Install the generated mod from file, called FaceToSkyrimGenerated.zip. You can install it as any other mod, using modOrganizer or extracting the files into skyrim folder.

﻿In Skyrim:

    Open racemenu (open console and type showracemenu).
    Once there, choose the gender and choose the race Race Face To Skyrim
    Done! Choose hair and body color accordingly.



Known issues:
0) I DON'T HAVE PAID FACEGEN. THIS SUCKS... : I know it sucks =/... even facegen is not cutting edge 3d face reconstruction anymore. There are some new machine learning algorithms that performs better, but I dont know how to implement it. Also there is a webpage that generates .obj from single pictures (just google it), in theory using these models to adapt it into skyrim head is possible. Maybe in the future it will be implemented. If you know how and want to help just write to me.
 1) THE HAIR : The hair right now is buggy and has a wrong clipping. I don't know how to solve this problem yet.
 2) WRONG EYEBROWNS AFTER CHANGE: The eyebrowns right now are the ones painted by facegen in the texture, so I recomend for now to not use any of the skyrim eyebrowns. Even if using the skyrim eyebrowns, these aren't adapted to the generated head shape.
3) NO MATCH BETWEEN FACE AND BODY COLOR: this is a hard one, I don't know how to solve it yet.
4) NO EXPRESSIONS: These aren't implemented yet, and I don't know how, I just know something of python but no general modding. I think is easy... but who knows...
5) ONLY ONE EYE COLOR, THE REST JUST LOOK... WEIRD: The rest of the eyes aren't implemented yet... I think is easy to solve...?
6) THE .EXE FILE IS TOO BIG: I don't know how to solve that yet... you could just use the python script in the optional files, but you will need to install python and all the modules used in the import statement. You can execute it running gui_face_plugin.py


Nedless to say... don't use this program for weird things.

Credits:

    Stephen999 : For making the facegen model and solve many of the issues in this mod.
    KouLeifoh: For making the High Poly Heads mod, in which the facegen model is based.



Permission:

You can modify this utility and mods as you want, just don't monetize it. As it uses files from the people on the credits, you have to ask them if you want to publish.

